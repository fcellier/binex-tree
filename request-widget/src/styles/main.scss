@import 'variables';

@mixin node-color($color, $background: $background-color) {
  > .content {
    stroke: $color;
    fill: $background;
  }
  > .decoration {
    fill: $color;
  }
}

.tree {
  background-color: $background-color;
  cursor: move;
  width: 100%;
  height: 100%;

  .node {
    position: relative;
    cursor: pointer;
    @include node-color($secondary-color);

    > .text {
      font-size: $label-size;
      font-family: $label-font;
      dominant-baseline: ideographic;
      text-anchor: start;
    }

    > .content {
      padding: 1em 1.5em;
      strokeWidth: 2px;
    }

    > .decoration {
      width: 0.5em;
    }
  }

  .node.leaf {
    @include node-color($primary-color);
  }

  .drag-in-progress {

    .node:not(.droppable) {
      transition: opacity 500ms;
      opacity: 0.2;
    }

    .node.dragged {
      opacity: 0.7;
      pointer-events: none;
    }

    .droppable.selected {
      @include node-color($success-color);
    }
  }

  .link {
    fill: none;
    stroke: $tertiary-color;
    stroke-width: 2px;
  }

}
